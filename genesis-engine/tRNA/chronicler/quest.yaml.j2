# The definition for a Chronicler Bee that manages a long-running process.
kind: ChroniclerBee
name: {{ component_name }}
description: "A bee that chronicles the quest of..."

# The event that begins the quest.
starts_on:
  eventType: QuestStarted
  eventVersion: 1.0

# The sequence of steps in the quest.
steps:
  - name: FirstStep
    description: "The first step of the quest."
    command_to_dispatch: DoFirstThingCommand
    awaits_on_success: FirstThingDoneEvent
    awaits_on_failure: FirstThingFailedEvent

# The event that signals the successful completion of the entire quest.
ends_on:
  eventType: QuestFinished

# Defines how to handle failures.
compensations:
  - on_failure: FirstThingFailedEvent
    dispatch_command: CompensateFirstThingCommand
